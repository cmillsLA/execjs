<!doctype>
<head></head>
<body>
<div id="content"></div>


<script>


// Append js and html.
function _append(selector, str) {
    var _content = str;
    var js = _content.indexOf('script');
    if(js > -1) {
    	// Script tag.
    	var script = document.createElement('script');
	    script.type = 'text/javascript';
	    var regex = /<script.*?src="(.*?)"/gmi;
	    var url = regex.exec(_content);
	    var inline = '';
	    if(url) {
	    	script.src = url[1];
	    } else {
	    	_content.replace(/<script[^>]*>([\s\S]*?)<\/script>/gi, function(){
	            inline += arguments[1] + '\n';
	       	});
	        script.text = inline;
	    }
	    document.getElementsByTagName("body")[0].appendChild(script);
   	} else {
    	// html content.
    	selector.innerHTML += _content;
   	}
}
// Selector - div or tag.
var selector = document.getElementById('content');

// String with inline javascript.
var str = '';
// Inline javascript.
str += '<script>alert("inline javascript");</\script>';
str += '<script>alert("more inline javascript");</\script>';
// External script.
str += '<script type="text/javascript" src="http://chrismills.la/test.js"></\script>';
// HTML.
str += '<p>Content.</p>';
str += '<p>More Content.</p><p>More Content 2.</p>';

_append(selector, str);


</script>



</body>
</html>
